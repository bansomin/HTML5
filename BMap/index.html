<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" />
		<meta charset="utf-8" http-equiv="content-type" content="text/html" />
		<title>百度地图</title>
		<style type="text/css">
			
			html {height: 100%;}
			body {
				height: 100%;
				margin: 0px;
				padding: 0px;
			}
			#container {
				height: 100%;
				background-color: gray;}
			
		</style>
		
		<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=5fHcNxHmcjRGy8oWx9Z3FfD7x3vGCH7F"></script>
	
	</head>
	<body>
		
		<div id="container"></div>
		<script type="text/javascript">
			
			var map = new BMap.Map("container");
			var point = new BMap.Point(116.404, 39.915);
			map.centerAndZoom(point, 15);
			/*window.setTimeout(function(){
				map.panTo(new BMap.Point(116.409, 39.918));
			}, 2000);*/
			
			var geolocation = new BMap.Geolocation();
	geolocation.getCurrentPosition(function(r){
 if(this.getStatus() == BMAP_STATUS_SUCCESS){
  //表示获取成功那么 r 这个参数就包含有当前的地理位置经纬度
　　　　//逆地址解析，就是要把当前的经纬度转为当前具体地理位置
　　　　//逆地址解析
　　　　　　var geoc = new BMap.Geocoder();
　　　　　　var pt = new BMap.Point(p_x, p_y);//实例化这两个点
　　　　　　geoc.getLocation(pt, function (rs) {
　　　　　　　　var addComp = rs.addressComponents;
　　　　　　　　$('.its-place').html(addComp.province + addComp.city + addComp.district + addComp.street + addComp.streetNumber)
　　　　　　　　alert(addComp.province + ", " + addComp.city + ", " + addComp.district + ", " + addComp.street + ", " + addComp.streetNumber);

　　　　　　　　//对应的省市区、县街道，街道号
　　　　});

}else {
  alert('failed'+this.getStatus());
 } 
 },{enableHighAccuracy: true})
		</script>
		
	</body>
</html>
